#!/bin/bash

EDITOR_CMD="${EDITOR%% *}"

omarchy-cmd-present "$EDITOR_CMD" || EDITOR=nvim
EDITOR_CMD="${EDITOR%% *}"

case "$EDITOR_CMD" in
    nvim|vim|nano|micro|hx|helix|fresh|emacs)
        exec omarchy-launch-tui $EDITOR "$@"
        ;;
    *)
        exec setsid uwsm-app -- $EDITOR "$@"
        ;;
esac
