#!/bin/bash

# Launch a floating terminal with the Omarchy logo presentation, then execute the command passed in, and finally end with the omarchy-show-done presentation.
# Used by actions such as Update System.

cmd="$*"

if [[ "$1" == "omarchy-webapp-install" ]]; then
  presentation_part="omarchy-show-webapp-logo"
else
  presentation_part="omarchy-show-logo"
fi

exec setsid uwsm app -- alacritty --class=Omarchy --title=Omarchy -e bash -c "$presentation_part; $cmd; omarchy-show-done"
